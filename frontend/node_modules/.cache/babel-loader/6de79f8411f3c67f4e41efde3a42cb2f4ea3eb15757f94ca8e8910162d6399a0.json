{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { reactive, ref, nextTick } from \"vue\";\nimport { required } from \"@vuelidate/validators\";\nimport { useVuelidate } from \"@vuelidate/core\";\nimport { useRouter } from \"vue-router\";\nimport axios from \"axios\";\nexport default {\n  setup() {\n    const submittedData = ref(null);\n    const form = reactive({\n      bugTitle: \"\",\n      bugDescription: \"\",\n      bugSteps: \"\",\n      yourEmail: \"\",\n      bugType: \"\",\n      bugPriority: \"\"\n    });\n    const rules = {\n      bugTitle: {\n        required\n      },\n      bugDescription: {\n        required\n      },\n      bugSteps: {\n        required\n      },\n      yourEmail: {\n        required\n      },\n      bugType: {\n        required\n      },\n      bugPriority: {\n        required\n      }\n    };\n    const v$ = useVuelidate(rules, form);\n    const errorMessage = ref(null);\n    const router = useRouter();\n    function goToMain() {\n      router.push({\n        path: \"/\"\n      });\n    }\n    async function submitBug() {\n      v$.value.$touch();\n      if (v$.value.$error) {\n        errorMessage.value = \"Please fill out all fields\";\n        return;\n      }\n      console.log(\"Form is valid\", form);\n      try {\n        const dataToSend = {\n          email: form.yourEmail,\n          bug_title: form.bugTitle,\n          bug_description: form.bugDescription,\n          bug_steps: form.bugSteps,\n          bug_type: form.bugType,\n          bug_priority: form.bugPriority\n        };\n        const response = await axios.post(\"http://localhost:8000/api/report_bug/\", dataToSend);\n        if (response.status === 200 && response.data) {\n          console.log(\"Bug report sent successfully\");\n          errorMessage.value = null;\n          submittedData.value = dataToSend;\n          nextTick(() => {\n            window.scrollTo(0, document.body.scrollHeight);\n          });\n        } else {\n          throw new Error(\"Unexpected response from the server\");\n        }\n      } catch (error) {\n        console.log(error);\n        errorMessage.value = `Error sending bug report: ${error.message}`;\n      }\n    }\n    return {\n      form,\n      v$,\n      submitBug,\n      errorMessage,\n      submittedData,\n      goToMain\n    };\n  }\n};","map":{"version":3,"names":["reactive","ref","nextTick","required","useVuelidate","useRouter","axios","setup","submittedData","form","bugTitle","bugDescription","bugSteps","yourEmail","bugType","bugPriority","rules","v$","errorMessage","router","goToMain","push","path","submitBug","value","$touch","$error","console","log","dataToSend","email","bug_title","bug_description","bug_steps","bug_type","bug_priority","response","post","status","data","window","scrollTo","document","body","scrollHeight","Error","error","message"],"sources":["C:\\Users\\Djeja\\Desktop\\DjangoVue-Game\\frontend\\src\\views\\ReportBug.vue"],"sourcesContent":["<template>\r\n\t<div class=\"container\">\r\n\t\t<h1 class=\"scoreboard-title text-center my-4\">Report Bug</h1>\r\n\t\t<p v-if=\"errorMessage\" class=\"error\">{{ errorMessage }}</p>\r\n\t\t<div class=\"form-container transparent-bg\">\r\n\t\t\t<div v-if=\"submittedData\" class=\"card-header\" style=\"color: yellow !important\">&#128274; Form now in readonyl mode &#128274;</div>\r\n\t\t\t<form @submit.prevent=\"submitBug\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<label for=\"yourEmail\">Your Email:</label>\r\n\t\t\t\t\t<input id=\"yourEmail\" v-model=\"form.yourEmail\" type=\"email\" required :readonly=\"submittedData\" maxlength=\"100\" />\r\n\t\t\t\t\t<p v-if=\"v$.yourEmail.$error\" class=\"error\">Email is required</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<label for=\"bugTitle\">Title:</label>\r\n\t\t\t\t\t<input id=\"bugTitle\" v-model=\"form.bugTitle\" type=\"text\" required :readonly=\"submittedData\" maxlength=\"200\" />\r\n\t\t\t\t\t<p v-if=\"v$.bugTitle.$error\" class=\"error\">Bug title is required</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<label for=\"bugDescription\">Bug Description:</label>\r\n\t\t\t\t\t<textarea id=\"bugDescription\" v-model=\"form.bugDescription\" required :readonly=\"submittedData\" maxlength=\"1000\" rows=\"5\"></textarea>\r\n\t\t\t\t\t<p v-if=\"v$.bugDescription.$error\" class=\"error\">Bug description is required</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<label for=\"bugSteps\">Steps to Reproduce:</label>\r\n\t\t\t\t\t<textarea id=\"bugSteps\" v-model=\"form.bugSteps\" required :readonly=\"submittedData\" maxlength=\"1000\" rows=\"4\"></textarea>\r\n\t\t\t\t\t<p v-if=\"v$.bugSteps.$error\" class=\"error\">Steps to reproduce the bug are required</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<label for=\"bugType\">Bug Type:</label>\r\n\t\t\t\t\t<select id=\"bugType\" v-model=\"form.bugType\" :disabled=\"submittedData\" required>\r\n\t\t\t\t\t\t<option disabled value=\"\">Please select a bug type</option>\r\n\t\t\t\t\t\t<option>UI</option>\r\n\t\t\t\t\t\t<option>Functionality</option>\r\n\t\t\t\t\t\t<option>Performance</option>\r\n\t\t\t\t\t\t<option>Security</option>\r\n\t\t\t\t\t\t<option>Other</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t\t<p v-if=\"v$.bugType.$error\" class=\"error\">Bug type is required</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"bug-priority\">\r\n\t\t\t\t\t<label>Bug Priority:</label>\r\n\t\t\t\t\t<div class=\"radio-group\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<input id=\"low\" type=\"radio\" value=\"Low\" v-model=\"form.bugPriority\" :disabled=\"submittedData\" />\r\n\t\t\t\t\t\t\t<label for=\"low\" style=\"color: green\">Low</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<input id=\"medium\" type=\"radio\" value=\"Medium\" v-model=\"form.bugPriority\" :disabled=\"submittedData\" />\r\n\t\t\t\t\t\t\t<label for=\"medium\" style=\"color: yellow\">Medium</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<input id=\"high\" type=\"radio\" value=\"High\" v-model=\"form.bugPriority\" :disabled=\"submittedData\" />\r\n\t\t\t\t\t\t\t<label for=\"high\" style=\"color: red\">High</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<p v-if=\"v$.bugPriority.$error\" class=\"error\">Bug priority is required</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button type=\"submit\" :disabled=\"submittedData\">Submit Bug Report</button>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t\t<div v-if=\"submittedData\" class=\"box-element col-12 col-sm-10 col-md-8 col-lg-7 mx-auto transparent-bg\">\r\n\t\t\t<div class=\"card-header\" style=\"color: green !important\">Bug report successfully submitted</div>\r\n\t\t\t<div class=\"card-header\">Your submitted data:</div>\r\n\t\t\t<ul class=\"list-group list-group-flush\">\r\n\t\t\t\t<li class=\"list-group-item transparent-bg\" v-for=\"(value, key) in submittedData\" :key=\"key\">\r\n\t\t\t\t\t<strong style=\"color: gold !important\">{{ key }}:</strong>\r\n\t\t\t\t\t<span>{{ value }}</span>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t\t<div class=\"login-button\">\r\n\t\t\t\t<button class=\"btn btn-primary\" @click=\"goToMain\">Okay</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, ref, nextTick } from \"vue\";\r\nimport { required } from \"@vuelidate/validators\";\r\nimport { useVuelidate } from \"@vuelidate/core\";\r\nimport { useRouter } from \"vue-router\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n\tsetup() {\r\n\t\tconst submittedData = ref(null);\r\n\t\tconst form = reactive({\r\n\t\t\tbugTitle: \"\",\r\n\t\t\tbugDescription: \"\",\r\n\t\t\tbugSteps: \"\",\r\n\t\t\tyourEmail: \"\",\r\n\t\t\tbugType: \"\",\r\n\t\t\tbugPriority: \"\",\r\n\t\t});\r\n\r\n\t\tconst rules = {\r\n\t\t\tbugTitle: { required },\r\n\t\t\tbugDescription: { required },\r\n\t\t\tbugSteps: { required },\r\n\t\t\tyourEmail: { required },\r\n\t\t\tbugType: { required },\r\n\t\t\tbugPriority: { required },\r\n\t\t};\r\n\r\n\t\tconst v$ = useVuelidate(rules, form);\r\n\t\tconst errorMessage = ref(null);\r\n\r\n\t\tconst router = useRouter();\r\n\t\tfunction goToMain() {\r\n\t\t\trouter.push({\r\n\t\t\t\tpath: \"/\",\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tasync function submitBug() {\r\n\t\t\tv$.value.$touch();\r\n\t\t\tif (v$.value.$error) {\r\n\t\t\t\terrorMessage.value = \"Please fill out all fields\";\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconsole.log(\"Form is valid\", form);\r\n\t\t\ttry {\r\n\t\t\t\tconst dataToSend = {\r\n\t\t\t\t\temail: form.yourEmail,\r\n\t\t\t\t\tbug_title: form.bugTitle,\r\n\t\t\t\t\tbug_description: form.bugDescription,\r\n\t\t\t\t\tbug_steps: form.bugSteps,\r\n\t\t\t\t\tbug_type: form.bugType,\r\n\t\t\t\t\tbug_priority: form.bugPriority,\r\n\t\t\t\t};\r\n\r\n\t\t\t\tconst response = await axios.post(\"http://localhost:8000/api/report_bug/\", dataToSend);\r\n\r\n\t\t\t\tif (response.status === 200 && response.data) {\r\n\t\t\t\t\tconsole.log(\"Bug report sent successfully\");\r\n\t\t\t\t\terrorMessage.value = null;\r\n\t\t\t\t\tsubmittedData.value = dataToSend;\r\n\t\t\t\t\tnextTick(() => {\r\n\t\t\t\t\t\twindow.scrollTo(0, document.body.scrollHeight);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new Error(\"Unexpected response from the server\");\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t\terrorMessage.value = `Error sending bug report: ${error.message}`;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn { form, v$, submitBug, errorMessage, submittedData, goToMain };\r\n\t},\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n\tbox-sizing: border-box;\r\n\tmax-width: 100%;\r\n\toverflow-x: hidden !important;\r\n}\r\n.transparent-bg {\r\n\tbackground-color: transparent !important;\r\n\tcolor: white !important;\r\n\tborder: none !important;\r\n}\r\n.form-container {\r\n\twidth: 100%;\r\n\tmax-width: 600px;\r\n\tmargin: 0 auto;\r\n\tpadding: 20px;\r\n\tbackground-color: #f8f9fa;\r\n\tborder: 1px solid #dee2e6;\r\n\tborder-radius: 5px;\r\n}\r\n\r\nform div {\r\n\tmargin-bottom: 10px;\r\n}\r\n\r\nform label {\r\n\tdisplay: block;\r\n\tmargin-bottom: 5px;\r\n}\r\n\r\nform input,\r\nform select,\r\ntextarea {\r\n\twidth: 100%;\r\n\tpadding: 5px;\r\n\tborder: 1px solid #ced4da;\r\n\tborder-radius: 3px;\r\n\tbackground-color: transparent !important;\r\n\tcolor: white !important;\r\n}\r\n\r\nform button {\r\n\tmargin-top: 20px;\r\n\tpadding: 10px 20px;\r\n\tbackground-color: #007bff;\r\n\tcolor: #fff;\r\n\tborder: none;\r\n\tborder-radius: 3px;\r\n\tcursor: pointer;\r\n}\r\nform select option {\r\n\tcolor: rgb(0, 0, 0);\r\n}\r\n\r\nform button:hover {\r\n\tbackground-color: #0056b3;\r\n}\r\n.checkbox-container {\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: flex-start;\r\n\twhite-space: nowrap;\r\n}\r\n\r\n.checkbox-container input[type=\"checkbox\"] {\r\n\ttransform: scale(1.5);\r\n}\r\n@media (max-width: 700px) {\r\n\t.checkbox-container {\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t.checkbox-container input[type=\"checkbox\"] {\r\n\t\tmargin-right: 0;\r\n\t\tmargin-bottom: 10px;\r\n\t}\r\n}\r\n@keyframes flames {\r\n\t0% {\r\n\t\tcolor: #ff0000;\r\n\t}\r\n\t50% {\r\n\t\tcolor: #ff8000;\r\n\t}\r\n\t100% {\r\n\t\tcolor: #ff0000;\r\n\t}\r\n}\r\n\r\n.flames {\r\n\tanimation: flames 1s infinite;\r\n}\r\n.login-button {\r\n\tmargin-top: 20px;\r\n\tmargin-bottom: 20px;\r\n}\r\n.radio-group {\r\n\tdisplay: flex;\r\n\tgap: 10px;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n}\r\n.list-group-item {\r\n\tword-wrap: break-word;\r\n}\r\n</style>\r\n"],"mappings":";AA6EA,SAASA,QAAQ,EAAEC,GAAG,EAAEC,QAAO,QAAS,KAAK;AAC7C,SAASC,QAAO,QAAS,uBAAuB;AAChD,SAASC,YAAW,QAAS,iBAAiB;AAC9C,SAASC,SAAQ,QAAS,YAAY;AACtC,OAAOC,KAAI,MAAO,OAAO;AAEzB,eAAe;EACdC,KAAKA,CAAA,EAAG;IACP,MAAMC,aAAY,GAAIP,GAAG,CAAC,IAAI,CAAC;IAC/B,MAAMQ,IAAG,GAAIT,QAAQ,CAAC;MACrBU,QAAQ,EAAE,EAAE;MACZC,cAAc,EAAE,EAAE;MAClBC,QAAQ,EAAE,EAAE;MACZC,SAAS,EAAE,EAAE;MACbC,OAAO,EAAE,EAAE;MACXC,WAAW,EAAE;IACd,CAAC,CAAC;IAEF,MAAMC,KAAI,GAAI;MACbN,QAAQ,EAAE;QAAEP;MAAS,CAAC;MACtBQ,cAAc,EAAE;QAAER;MAAS,CAAC;MAC5BS,QAAQ,EAAE;QAAET;MAAS,CAAC;MACtBU,SAAS,EAAE;QAAEV;MAAS,CAAC;MACvBW,OAAO,EAAE;QAAEX;MAAS,CAAC;MACrBY,WAAW,EAAE;QAAEZ;MAAS;IACzB,CAAC;IAED,MAAMc,EAAC,GAAIb,YAAY,CAACY,KAAK,EAAEP,IAAI,CAAC;IACpC,MAAMS,YAAW,GAAIjB,GAAG,CAAC,IAAI,CAAC;IAE9B,MAAMkB,MAAK,GAAId,SAAS,CAAC,CAAC;IAC1B,SAASe,QAAQA,CAAA,EAAG;MACnBD,MAAM,CAACE,IAAI,CAAC;QACXC,IAAI,EAAE;MACP,CAAC,CAAC;IACH;IAEA,eAAeC,SAASA,CAAA,EAAG;MAC1BN,EAAE,CAACO,KAAK,CAACC,MAAM,CAAC,CAAC;MACjB,IAAIR,EAAE,CAACO,KAAK,CAACE,MAAM,EAAE;QACpBR,YAAY,CAACM,KAAI,GAAI,4BAA4B;QACjD;MACD;MAEAG,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEnB,IAAI,CAAC;MAClC,IAAI;QACH,MAAMoB,UAAS,GAAI;UAClBC,KAAK,EAAErB,IAAI,CAACI,SAAS;UACrBkB,SAAS,EAAEtB,IAAI,CAACC,QAAQ;UACxBsB,eAAe,EAAEvB,IAAI,CAACE,cAAc;UACpCsB,SAAS,EAAExB,IAAI,CAACG,QAAQ;UACxBsB,QAAQ,EAAEzB,IAAI,CAACK,OAAO;UACtBqB,YAAY,EAAE1B,IAAI,CAACM;QACpB,CAAC;QAED,MAAMqB,QAAO,GAAI,MAAM9B,KAAK,CAAC+B,IAAI,CAAC,uCAAuC,EAAER,UAAU,CAAC;QAEtF,IAAIO,QAAQ,CAACE,MAAK,KAAM,GAAE,IAAKF,QAAQ,CAACG,IAAI,EAAE;UAC7CZ,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAC;UAC3CV,YAAY,CAACM,KAAI,GAAI,IAAI;UACzBhB,aAAa,CAACgB,KAAI,GAAIK,UAAU;UAChC3B,QAAQ,CAAC,MAAM;YACdsC,MAAM,CAACC,QAAQ,CAAC,CAAC,EAAEC,QAAQ,CAACC,IAAI,CAACC,YAAY,CAAC;UAC/C,CAAC,CAAC;QACH,OAAO;UACN,MAAM,IAAIC,KAAK,CAAC,qCAAqC,CAAC;QACvD;MACD,EAAE,OAAOC,KAAK,EAAE;QACfnB,OAAO,CAACC,GAAG,CAACkB,KAAK,CAAC;QAClB5B,YAAY,CAACM,KAAI,GAAK,6BAA4BsB,KAAK,CAACC,OAAQ,EAAC;MAClE;IACD;IAEA,OAAO;MAAEtC,IAAI;MAAEQ,EAAE;MAAEM,SAAS;MAAEL,YAAY;MAAEV,aAAa;MAAEY;IAAS,CAAC;EACtE;AACD,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}